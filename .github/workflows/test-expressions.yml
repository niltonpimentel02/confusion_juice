name: 'Test Expressions and Arithmetic'

on:
  workflow_dispatch:

env:
  ISSUE_STALE_DAYS: '45'
  ISSUE_CLOSE_DAYS: '60'
  PR_STALE_DAYS: '30'
  PR_CLOSE_DAYS: '45'

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Compute differences in step env and print
        env:
          ISSUE_DIFF: ${{ fromJSON(env.ISSUE_CLOSE_DAYS) - fromJSON(env.ISSUE_STALE_DAYS) }}
          PR_DIFF: ${{ fromJSON(env.PR_CLOSE_DAYS) - fromJSON(env.PR_STALE_DAYS) }}
        run: |
          echo "Issue stale: ${ISSUE_STALE_DAYS} | close: ${ISSUE_CLOSE_DAYS} | diff: ${ISSUE_DIFF}"
          echo "PR stale: ${PR_STALE_DAYS} | close: ${PR_CLOSE_DAYS} | diff: ${PR_DIFF}"
